<!DOCTYPE html>
<html>
<head>
  <title>Gyroscope Example</title>
</head>
<body>
  <h1>Gyroscope Example</h1>
  <p>Move your device to see the gyroscope data.</p>
  <p>Alpha: <span id="alpha">0</span></p>
  <p>Beta: <span id="beta">0</span></p>
  <p>Gamma: <span id="gamma">0</span></p>

  <script>
    // 检查浏览器是否支持 Gyroscope API
    if (typeof window.DeviceOrientationEvent !== 'undefined' && typeof window.DeviceOrientationEvent.requestPermission === 'function') {
      // 请求访问陀螺仪权限
      window.DeviceOrientationEvent.requestPermission()
        .then(permissionState => {
          if (permissionState === 'granted') {
            // 添加事件监听器
            window.addEventListener('deviceorientation', handleOrientation);
          } else {
            console.log('Permission to access the gyroscope was denied.');
          }
        })
        .catch(console.error);
    } else {
      console.log('Gyroscope API is not supported in this browser.');
    }

    function handleOrientation(event) {
      // 更新页面上的数据
      document.getElementById('alpha').textContent = event.alpha.toFixed(2);
      document.getElementById('beta').textContent = event.beta.toFixed(2);
      document.getElementById('gamma').textContent = event.gamma.toFixed(2);
    }
  </script>
</body>
</html>